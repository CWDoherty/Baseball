<html><head><title>Bangerz Blog Post</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_asyl8prbzp3g-2>li:before{content:"\0025a0  "}.lst-kix_asyl8prbzp3g-8>li:before{content:"\0025a0  "}.lst-kix_asyl8prbzp3g-3>li:before{content:"\0025cf  "}.lst-kix_asyl8prbzp3g-5>li:before{content:"\0025a0  "}.lst-kix_asyl8prbzp3g-1>li:before{content:"\0025cb  "}.lst-kix_asyl8prbzp3g-4>li:before{content:"\0025cb  "}ul.lst-kix_asyl8prbzp3g-7{list-style-type:none}ul.lst-kix_asyl8prbzp3g-6{list-style-type:none}ul.lst-kix_asyl8prbzp3g-8{list-style-type:none}ul.lst-kix_asyl8prbzp3g-3{list-style-type:none}ul.lst-kix_asyl8prbzp3g-2{list-style-type:none}.lst-kix_asyl8prbzp3g-0>li:before{content:"\0025cf  "}ul.lst-kix_asyl8prbzp3g-5{list-style-type:none}ul.lst-kix_asyl8prbzp3g-4{list-style-type:none}.lst-kix_asyl8prbzp3g-6>li:before{content:"\0025cf  "}ul.lst-kix_asyl8prbzp3g-1{list-style-type:none}ul.lst-kix_asyl8prbzp3g-0{list-style-type:none}.lst-kix_asyl8prbzp3g-7>li:before{content:"\0025cb  "}ol{margin:0;padding:0}.c1{widows:2;orphans:2;height:11pt;direction:ltr}.c11{max-width:504pt;background-color:#ffffff;padding:54pt 54pt 54pt 54pt}.c4{widows:2;orphans:2;direction:ltr}.c2{font-size:12pt;background-color:#ffffff}.c7{color:#1155cc;text-decoration:underline}.c9{margin:0;padding:0}.c6{padding-left:0pt;margin-left:108pt}.c5{padding-left:0pt;margin-left:72pt}.c10{color:inherit;text-decoration:inherit}.c12{background-color:#ffffff}.c8{font-size:14pt}.c3{font-style:italic}.c0{font-weight:bold}.title{widows:2;padding-top:0pt;line-height:1.15;orphans:2;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt;page-break-after:avoid}.subtitle{widows:2;padding-top:0pt;line-height:1.15;orphans:2;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt;page-break-after:avoid}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{widows:2;padding-top:10pt;line-height:1.15;orphans:2;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt;page-break-after:avoid}h2{widows:2;padding-top:10pt;line-height:1.15;orphans:2;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt;page-break-after:avoid}h3{widows:2;padding-top:8pt;line-height:1.15;orphans:2;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt;page-break-after:avoid}h4{widows:2;padding-top:8pt;line-height:1.15;orphans:2;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt;page-break-after:avoid}h5{widows:2;padding-top:8pt;line-height:1.15;orphans:2;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt;page-break-after:avoid}h6{widows:2;padding-top:8pt;line-height:1.15;orphans:2;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt;page-break-after:avoid}</style></head><body class="c11"><p class="c4"><span class="c0">MLB Baseball Database </span></p><p class="c4"><span class="c0">Christopher Doherty, Oliver Nabavian</span></p><p class="c4"><span class="c0">Bangerz Data Collective</span></p><p class="c4"><span class="c0">4/29/15 </span></p><p class="c1"><span class="c0"></span></p><p class="c4"><span>The MLB Baseball database provides you with 2014 MLB stats for current players. All teams are linked to their respective Twitter data and all players are also linked to Twitter, provided that player has a twitter account. Currently, the database provides the last 20 Tweets from each account in the database, but as the accounts in the database tweet more, then periodic updates will be provided.</span></p><p class="c1"><span></span></p><p class="c4"><span>Included in this data collective are a variety of scripts; they are as follows:</span></p><p class="c4"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><ul class="c9 lst-kix_asyl8prbzp3g-0 start"><li class="c4 c5"><span class="c0">database_project.py</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-1 start"><li class="c4 c6"><span class="c2">The main script for the project. Gets player names and twitter handles from baseball-reference then interacts with a database file to match up with only current players(players who have played within the last year). The player info is then inserted into the baseball database. Team information is then grabbed from mlb.com and parsed and inserted into the database.</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-0"><li class="c4 c5"><span class="c0">player_stats.py</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-1 start"><li class="c4 c6"><span class="c2">A script that query&#39;s Lahman&#39;s Baseball database(</span><span class="c2 c7"><a class="c10" href="http://www.google.com/url?q=http%3A%2F%2Fwww.seanlahman.com%2Fbaseball-archive%2Fstatistics%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNG8u5GUH3TBHAwHr9MeTxiQ6fkE1Q">http://www.seanlahman.com/baseball-archive/statistics/</a></span><span class="c2">) to pull player stats from the database. Will be updated to manipulate data and insert into our database.</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-0"><li class="c4 c5"><span class="c0">twitter.py</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-1 start"><li class="c4 c6"><span>This script takes all players that have been determined to have a twitter handles and downloads their last 20 tweets and inserts them into the database.</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-0"><li class="c4 c5"><span class="c0">twitter_player_handles.py</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-1 start"><li class="c4 c6"><span>This script matches player who have played in the last 12 months with a list of players who have twitter handles provided by baseball-reference(</span><span class="c7"><a class="c10" href="http://www.google.com/url?q=http%3A%2F%2Fwww.baseball-reference.com%2Ffriv%2Fbaseball-player-twitter-accounts.shtml&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEWF-e-HBxvPPIEr8H7t7WKcnv0YQ">http://www.baseball-reference.com/friv/baseball-player-twitter-accounts.shtml</a></span><span>).</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-0"><li class="c4 c5"><span class="c0">hashtags.py</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-1 start"><li class="c4 c6"><span>This script parses all downloaded tweets and scrapes the hashtags from them. It then inserts these tags into the database&rsquo;s </span><span class="c3">Hashtag</span><span>&nbsp;table.</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-0"><li class="c4 c5"><span class="c0">user_mentions.py</span></li></ul><ul class="c9 lst-kix_asyl8prbzp3g-1 start"><li class="c4 c6"><span>This script does the same as above but inserts user mentions into the </span><span class="c3">User_Mentions </span><span>table.</span></li></ul><p class="c1"><span></span></p><p class="c1"><span></span></p><p class="c1"><span></span></p><p class="c1"><span></span></p><p class="c1"><span></span></p><p class="c1"><span></span></p><p class="c4"><span class="c0 c8">Database Schema</span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 696.50px; height: 491.00px;"><img alt="Diagram.png" src="images/image01.png" style="width: 696.50px; height: 491.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c4"><span class="c2">Here is the schema for our database. The </span><span class="c2 c3">Team</span><span class="c2">&nbsp;and </span><span class="c2 c3">Player</span><span class="c2">&nbsp;tables hold demographic information about teams and players respectively and are linked by the team abbreviation. The </span><span class="c2 c3">Batting </span><span class="c2">and </span><span class="c2 c3">Pitching</span><span class="c2">&nbsp;tables contain statistical information about players and are linked to the </span><span class="c2 c3">Player</span><span class="c2">&nbsp;table by their </span><span class="c2 c3">full_name</span><span class="c2">&nbsp;and </span><span class="c2 c3">dob</span><span class="c2">&nbsp;to guarantee that each player record is unique, as players can have the same name but are unlikely to have the same birthday. The </span><span class="c2 c3">Account </span><span class="c2">table holds information about a Twitter account and is linked to </span><span class="c2 c3">Player </span><span class="c2">and </span><span class="c2 c3">Team</span><span class="c2">&nbsp;by </span><span class="c2 c3">user_id</span><span class="c2">. The </span><span class="c2 c3">Tweet </span><span class="c2">table contains information about each Tweet and is linked to the </span><span class="c2 c3">Account</span><span class="c2">&nbsp;table by the </span><span class="c2 c3">user_id </span><span class="c2">of the user that tweeted it. Finally, </span><span class="c2 c3">Hashtag</span><span class="c2">&nbsp;and </span><span class="c2 c3">User_Mentions </span><span class="c2">&nbsp;contain information about Tweets with Hashtags and User Mentions in them, and are linked to </span><span class="c2 c3">Tweet</span><span class="c2">&nbsp;by the </span><span class="c2 c3">tweet_id.</span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c4"><span class="c2">Below are a couple of use cases to see what this database is capable of:</span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 672.00px; height: 612.00px;"><img alt="Screen Shot 2015-04-29 at 19.47.06.png" src="images/image00.png" style="width: 672.00px; height: 612.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c1"><span class="c2"></span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 672.00px; height: 834.67px;"><img alt="Screen Shot 2015-04-29 at 19.48.05.png" src="images/image02.png" style="width: 672.00px; height: 834.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></body></html>